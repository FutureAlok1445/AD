Step 1: Update System and Install Dependencies
sudo apt update
sudo apt upgrade -y
sudo apt install -y autoconf gcc libc6 make wget unzip apache2 php libapache2-mod-php libgd-dev openssl libssl-dev build-essential

Step 2: Download and Extract Nagios Core
cd /tmp
wget -O nagioscore.tar.gz https://github.com/NagiosEnterprises/nagioscore/archive/nagios-4.4.6.tar.gz
tar xzf nagioscore.tar.gz
cd nagioscore-nagios-4.4.6/

Step 3: Compile and Install Nagios Core
sudo ./configure --with-httpd-conf=/etc/apache2/sites-enabled
sudo make all

Step 4: Create Nagios User and Groups
sudo make install-groups-users
sudo usermod -a -G nagios www-data

Step 5: Install Nagios Binaries and Services
sudo make install
sudo make install-daemoninit
sudo make install-commandmode
sudo make install-config
sudo make install-webconf

Step 6: Configure Apache Web Server
sudo a2enmod rewrite
sudo a2enmod cgi
sudo systemctl restart apache2

Step 7: Create Nagios Admin User for Web Access
sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin

Step 8: Install Nagios Plugins
sudo apt-get install -y autoconf gcc libc6 libmcrypt-dev make libssl-dev wget bc gawk dc build-essential snmp libnet-snmp-perl gettext

Download and install plugins:
cd /tmp
wget https://github.com/nagios-plugins/nagios-plugins/releases/download/release-2.3.3/nagios-plugins-2.3.3.tar.gz
tar zxf nagios-plugins-2.3.3.tar.gz
cd nagios-plugins-2.3.3/
sudo ./configure
sudo make
sudo make install

Step 9: Install NRPE Plugin on Nagios Server
cd /tmp
wget https://github.com/NagiosEnterprises/nrpe/releases/download/nrpe-4.0.3/nrpe-4.0.3.tar.gz
tar xzf nrpe-4.0.3.tar.gz
cd nrpe-4.0.3/
sudo ./configure
sudo make all
sudo make install-plugin

Step 10: Configure Firewall
sudo ufw allow 'Apache'
sudo ufw reload

Step 11: Start Nagios Service
sudo systemctl start nagios.service
sudo systemctl enable nagios.service
sudo systemctl status nagios.service

Step 12: Verify Web Interface
Open your browser and go to:
http://YOUR_NAGIOS_SERVER_PUBLIC_IP/nagios

Log in with:
Username: nagiosadmin
Password: (the password you created in Step 7)


